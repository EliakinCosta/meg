import QtQuick 2.7
import QtQuick.Controls 2.0
import QtQuick.Layouts 1.0
import QtQuick.Controls.Material 2.0

ApplicationWindow {
    id: appWindow
    visible: true
    width: 640
    height: 480
    title: qsTr("<%= config[:appname] %>")

    header: ToolBar {
        RowLayout {
            anchors.fill: parent
            ToolButton {
                contentItem: Image {
                    fillMode: Image.Pad
                    horizontalAlignment: Image.AlignHCenter
                    verticalAlignment: Image.AlignVCenter
                    source: "qrc:/icons/menu.png"
                }
                onClicked: drawer.open()
            }
            Label {
                id: titleLabel
		text: "<%= config[:appname] %>"
                font.bold: true
                elide: Label.ElideRight
                horizontalAlignment: Qt.AlignHCenter
                verticalAlignment: Qt.AlignVCenter
                Layout.fillWidth: true
            }
            ToolButton {
                contentItem: Image {
                    fillMode: Image.Pad
                    horizontalAlignment: Image.AlignHCenter
                    verticalAlignment: Image.AlignVCenter
                    source: "qrc:/icons/more_vert.png"
                }
            }
        }
    }

    Drawer {
        id: drawer
        width: Math.min(appWindow.width, appWindow.height) / 3 * 2
        height: appWindow.height

        Rectangle {
            width: drawer.width
            height: appWindow.height / 3
            color: Material.primaryColor

            Label {
                width: drawer.width / 3 * 2
                height: contentHeight
                anchors { left: parent.left; leftMargin: 5; bottom: parent.bottom; bottomMargin: 5 }
		text: "<%= config[:appname] %>"
                fontSizeMode: Text.HorizontalFit
                font.pixelSize: width
                font.family: "Roboto"
                color: "white"
            }
        }
    }
}
